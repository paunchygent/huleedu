---
description: Always use if linting issues are reported
globs: 
alwaysApply: false
---
# 110.5: Refactoring/Linting Mode

## 1. Core Standards
- **MUST** follow [050-python-coding-standards.mdc](mdc:050-python-coding-standards.mdc)
- **MUST** use `pdm run format-all`, `pdm run lint-all`, `pdm run typecheck-all`
- **CRITICAL**: Always use `--force-exclude` flag in Ruff commands

## 2. Systematic Approach
- Use `ruff check --fix --force-exclude .` for auto-fixable issues first
- Address MyPy errors with correct type hints
- Configure per-file ignores in `pyproject.toml` for intentional violations

## 3. Refactoring Goals
- Improve readability and reduce complexity
- Remove duplication without changing external behavior
- Avoid unnecessary or disruptive changes

## 4. Verification
- **MUST** run tests after refactoring to ensure no regressions
- Update docstrings for significant structural changes
- Use `edit_file` tool with `// ... existing code ...` markers

---
**Improve code quality systematically.**
===
