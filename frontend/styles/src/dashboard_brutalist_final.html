<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard – HuleEdu (Refined)</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&family=IBM+Plex+Sans:wght@400;500;600;700&family=IBM+Plex+Serif:wght@400;600;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        navy: '#1a1f2c',      
                        burgundy: '#7a2e2e',  
                        canvas: '#FDFBF7',    
                        paper: '#ffffff',
                    },
                    fontFamily: {
                        sans: ['"IBM Plex Sans"', 'system-ui', 'sans-serif'],
                        serif: ['"IBM Plex Serif"', 'Georgia', 'serif'],
                        mono: ['"IBM Plex Mono"', 'monospace'],
                    },
                    boxShadow: {
                        'brutal': '4px 4px 0 0 #1a1f2c',
                        'brutal-sm': '2px 2px 0 0 #1a1f2c',
                        'brutal-burgundy': '4px 4px 0 0 #7a2e2e',
                    },
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #FDFBF7;
            color: #1a1f2c;
            -webkit-font-smoothing: antialiased;
        }

        .bg-grid {
            background-size: 24px 24px;
            background-image: 
                linear-gradient(to right, rgba(26, 31, 44, 0.06) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(26, 31, 44, 0.06) 1px, transparent 1px);
        }

        /* Ledger row states */
        .ledger-row {
            transition: background-color 0.1s ease;
        }
        
        .ledger-row:hover {
            background-color: #FDFBF7;
            outline: 2px solid #1a1f2c;
            outline-offset: -2px;
            z-index: 10;
            position: relative;
        }

        .ledger-row:hover .ledger-title {
            text-decoration: underline;
            text-decoration-thickness: 2px;
            text-underline-offset: 4px;
            text-decoration-color: #7a2e2e;
        }

        /* State change animation */
        @keyframes state-flash {
            0%, 100% { background-color: transparent; }
            50% { background-color: rgba(122, 46, 46, 0.08); }
        }

        .ledger-row[data-state-changed] {
            animation: state-flash 0.4s ease;
        }

        /* Progress bar */
        .progress-track {
            height: 6px;
            background: rgba(26, 31, 44, 0.1);
        }

        .progress-fill {
            height: 100%;
            transition: width 0.3s ease;
        }

        /* Button press effect */
        .btn-brutal:active {
            transform: translate(4px, 4px);
            box-shadow: none !important;
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 14px; }
        ::-webkit-scrollbar-track { background: #FDFBF7; border-left: 1px solid #1a1f2c; }
        ::-webkit-scrollbar-thumb { background: #1a1f2c; border: 4px solid #FDFBF7; }
        ::-webkit-scrollbar-thumb:hover { background: #7a2e2e; }
    </style>
</head>

<body class="font-sans text-navy h-screen flex flex-col overflow-hidden selection:bg-burgundy selection:text-white">

    <!-- HEADER -->
    <header class="h-16 flex-none border-b border-navy bg-canvas flex items-center z-50">
        <div class="w-64 shrink-0 h-full border-r border-navy px-6 flex items-center">
            <span class="font-serif font-bold text-2xl tracking-tight">HuleEdu.</span>
        </div>

        <div class="flex-1 flex h-full">
            <div class="h-full border-r border-navy px-6 flex items-center">
                <h1 class="text-xs font-bold uppercase tracking-widest text-navy">Lärardashboard</h1>
            </div>

            <div class="flex-1 border-r border-navy"></div>

            <div class="h-full border-r border-navy px-6 flex items-center gap-2 hover:bg-navy/5 cursor-help transition-colors">
                <div class="h-2 w-2 rounded-full bg-burgundy"></div>
                <span class="font-mono text-sm font-bold">847 SEK</span>
                <span class="text-xs text-navy/40 uppercase tracking-widest font-bold ml-1">Krediter</span>
            </div>

            <div class="h-full border-r border-navy px-6 flex items-center gap-3 hover:bg-navy/5 cursor-pointer transition-colors">
                <span class="text-sm font-bold">Anna K.</span>
                <div class="h-8 w-8 bg-navy text-canvas flex items-center justify-center text-xs font-bold">AK</div>
            </div>
            
            <div class="h-full px-6 flex items-center justify-center hover:bg-navy hover:text-white cursor-pointer transition-colors">
                <span class="text-xs font-bold uppercase tracking-widest">Logga ut</span>
            </div>
        </div>
    </header>

    <div class="flex-1 flex overflow-hidden">
        
        <!-- SIDEBAR -->
        <nav class="w-64 flex-none border-r border-navy bg-canvas flex flex-col">
            <div class="flex flex-col py-8">
                <a href="#" class="px-6 py-3 font-bold text-lg flex items-center gap-4 border-l-4 border-navy bg-navy/5">
                    Översikt
                </a>
                <a href="#" class="px-6 py-3 text-navy/60 hover:text-navy hover:bg-navy/5 font-medium text-lg border-l-4 border-transparent transition-colors">
                    Klasser
                </a>
                <a href="#" class="px-6 py-3 text-navy/60 hover:text-navy hover:bg-navy/5 font-medium text-lg border-l-4 border-transparent transition-colors">
                    Arkiv
                </a>
            </div>

            <div class="mt-auto p-6 border-t border-navy">
                <button class="btn-brutal w-full py-4 bg-navy text-white text-xs font-bold uppercase tracking-widest hover:bg-burgundy shadow-brutal transition-all duration-75">
                    + Ny Bunt
                </button>
            </div>
        </nav>

        <!-- MAIN CONTENT -->
        <main class="flex-1 overflow-y-auto bg-grid">
            
            <!-- SECTION: KRÄVER ÅTGÄRD -->
            <div class="p-10 pb-6 max-w-6xl">
                <div class="flex items-center gap-3 mb-6 pl-1">
                    <div class="w-2 h-2 bg-burgundy rounded-full"></div>
                    <h2 class="text-xs font-bold uppercase tracking-widest text-navy">Kräver åtgärd (1)</h2>
                </div>

                <!-- Primary Action Card -->
                <div class="bg-white border-2 border-navy shadow-brutal flex flex-col md:flex-row">
                    <div class="p-8 flex-1">
                        <div class="flex items-center justify-between mb-4">
                            <span class="text-xs font-mono text-navy/40 uppercase tracking-wide">Elevmatchning #BATCH-882</span>
                            <span class="w-2 h-2 bg-burgundy rounded-full animate-pulse"></span>
                        </div>
                        
                        <h3 class="font-serif font-bold text-3xl mb-2 text-navy">SA22B · Argumenterande text</h3>
                        <p class="font-serif text-lg text-navy/80 leading-relaxed max-w-2xl">
                            Systemet har matchat 22 texter med hög säkerhet. 
                            <span class="bg-burgundy/10 text-burgundy px-1 font-medium">2 texter avviker</span> och kräver din manuella bedömning innan export.
                        </p>
                        
                        <div class="mt-8 flex gap-4">
                            <button class="btn-brutal bg-burgundy text-white px-6 py-3 text-xs font-bold uppercase tracking-widest hover:bg-navy shadow-brutal-sm transition-all duration-75">
                                Hantera 2 avvikelser
                            </button>
                            <button class="border border-navy text-navy px-6 py-3 text-xs font-bold uppercase tracking-widest hover:bg-navy hover:text-white transition-colors">
                                Visa detaljer
                            </button>
                        </div>
                    </div>

                    <div class="border-t md:border-t-0 md:border-l border-navy bg-canvas p-8 md:w-64 flex flex-col justify-center items-center text-center">
                        <span class="text-[10px] font-bold text-navy/50 uppercase tracking-widest mb-2">Autobekräftas om</span>
                        <span class="font-mono text-3xl font-bold text-burgundy tracking-tight">22:00</span>
                        <span class="text-xs text-navy/40 font-mono mt-1">timmar</span>
                    </div>
                </div>
            </div>

            <!-- SECTION: THE LEDGER (Refined) -->
            <div class="p-10 pt-4 max-w-6xl">
                <div class="flex items-center gap-3 mb-4 pl-1 border-b border-navy pb-2">
                    <div class="w-2 h-2 bg-navy rounded-full"></div>
                    <h2 class="text-xs font-bold uppercase tracking-widest text-navy">Pågående och Arkiverat</h2>
                </div>
                
                <div class="bg-white border-2 border-navy">
                    
                    <!-- Table Header -->
                    <div class="grid grid-cols-12 border-b-2 border-navy bg-canvas">
                        <div class="col-span-5 p-4 border-r border-navy">
                            <span class="text-[10px] font-bold uppercase tracking-widest text-navy">Uppgift</span>
                        </div>
                        <div class="col-span-2 p-4 border-r border-navy">
                            <span class="text-[10px] font-bold uppercase tracking-widest text-navy">Status</span>
                        </div>
                        <div class="col-span-4 p-4 border-r border-navy">
                            <span class="text-[10px] font-bold uppercase tracking-widest text-navy">Process</span>
                        </div>
                        <div class="col-span-1 p-4 text-right">
                            <span class="text-[10px] font-bold uppercase tracking-widest text-navy">Tid</span>
                        </div>
                    </div>

                    <!-- Row: ATTENTION STATE -->
                    <div class="grid grid-cols-12 border-b-2 border-burgundy ledger-row cursor-pointer bg-burgundy/[0.02]" data-state="attention">
                        <div class="col-span-5 p-4 border-r border-navy flex flex-col justify-center">
                            <span class="ledger-title font-bold text-sm text-navy">SA22B · Argumenterande text</span>
                            <span class="text-xs text-burgundy font-mono mt-1">2 avvikelser kräver åtgärd</span>
                        </div>
                        <div class="col-span-2 p-4 border-r border-navy flex items-center">
                            <span class="font-mono text-xs uppercase tracking-wide text-burgundy font-bold">Åtgärd</span>
                        </div>
                        <div class="col-span-4 p-4 border-r border-navy flex items-center">
                            <span class="text-xs text-burgundy">Hantera innan autobekräftelse →</span>
                        </div>
                        <div class="col-span-1 p-4 flex items-center justify-end">
                            <span class="font-mono text-sm font-bold text-burgundy">22:00</span>
                        </div>
                    </div>

                    <!-- Row: PROCESSING STATE -->
                    <div class="grid grid-cols-12 border-b border-navy border-l-4 border-l-burgundy ledger-row cursor-pointer bg-white" data-state="processing">
                        <div class="col-span-5 p-4 border-r border-navy flex flex-col justify-center">
                            <span class="ledger-title font-bold text-sm text-navy">EK21A · Novellanalys</span>
                            <span class="text-xs text-navy/50 font-mono mt-1">18 texter · Ranking-läge</span>
                        </div>
                        <div class="col-span-2 p-4 border-r border-navy flex items-center">
                            <span class="font-mono text-xs uppercase tracking-wide text-burgundy">Bearbetar</span>
                        </div>
                        <div class="col-span-4 p-4 border-r border-navy flex flex-col justify-center gap-2">
                            <div class="progress-track w-full">
                                <div class="progress-fill bg-burgundy" style="width: 67%"></div>
                            </div>
                            <span class="text-[10px] font-mono text-navy/40 uppercase">CJ-bedömning pågår</span>
                        </div>
                        <div class="col-span-1 p-4 flex items-center justify-end">
                            <div class="h-2 w-2 bg-burgundy rounded-full animate-pulse"></div>
                        </div>
                    </div>

                    <!-- Row: PROCESSING STATE (different stage) -->
                    <div class="grid grid-cols-12 border-b border-navy border-l-4 border-l-navy ledger-row cursor-pointer bg-white" data-state="processing">
                        <div class="col-span-5 p-4 border-r border-navy flex flex-col justify-center">
                            <span class="ledger-title font-bold text-sm text-navy">Bunt #47 (Gäst)</span>
                            <span class="text-xs text-navy/50 font-mono mt-1">12 texter · Snabbanalys</span>
                        </div>
                        <div class="col-span-2 p-4 border-r border-navy flex items-center">
                            <span class="font-mono text-xs uppercase tracking-wide text-navy/60">Bearbetar</span>
                        </div>
                        <div class="col-span-4 p-4 border-r border-navy flex flex-col justify-center gap-2">
                            <div class="progress-track w-full">
                                <div class="progress-fill bg-navy" style="width: 89%"></div>
                            </div>
                            <span class="text-[10px] font-mono text-navy/40 uppercase">Textanalys nästan klar</span>
                        </div>
                        <div class="col-span-1 p-4 flex items-center justify-end">
                            <div class="h-2 w-2 bg-navy/40 rounded-full animate-pulse"></div>
                        </div>
                    </div>

                    <!-- Row: COMPLETE STATE -->
                    <div class="grid grid-cols-12 border-b border-navy ledger-row cursor-pointer bg-white" data-state="complete">
                        <div class="col-span-5 p-4 border-r border-navy flex flex-col justify-center">
                            <span class="ledger-title font-bold text-sm text-navy/70">NA21B · Källkritik</span>
                            <span class="text-xs text-navy/40 font-mono mt-1">22 texter</span>
                        </div>
                        <div class="col-span-2 p-4 border-r border-navy flex items-center">
                            <span class="font-mono text-xs uppercase tracking-wide text-navy/40">Klar</span>
                        </div>
                        <div class="col-span-4 p-4 border-r border-navy flex items-center">
                            <span class="text-xs text-navy/50">Redo för export →</span>
                        </div>
                        <div class="col-span-1 p-4 flex items-center justify-end">
                            <span class="font-mono text-xs text-navy/40">14:32</span>
                        </div>
                    </div>

                    <!-- Row: COMPLETE STATE (older) -->
                    <div class="grid grid-cols-12 border-b border-navy ledger-row cursor-pointer bg-white" data-state="complete">
                        <div class="col-span-5 p-4 border-r border-navy flex flex-col justify-center">
                            <span class="ledger-title font-bold text-sm text-navy/70">TE22A · Debattartikel</span>
                            <span class="text-xs text-navy/40 font-mono mt-1">28 texter</span>
                        </div>
                        <div class="col-span-2 p-4 border-r border-navy flex items-center">
                            <span class="font-mono text-xs uppercase tracking-wide text-navy/40">Klar</span>
                        </div>
                        <div class="col-span-4 p-4 border-r border-navy flex items-center">
                            <span class="text-xs text-navy/40">Exporterad till Schoolsoft</span>
                        </div>
                        <div class="col-span-1 p-4 flex items-center justify-end">
                            <span class="font-mono text-xs text-navy/40">Igår</span>
                        </div>
                    </div>

                    <!-- Row: COMPLETE STATE (archived feel) -->
                    <div class="grid grid-cols-12 ledger-row cursor-pointer bg-white" data-state="complete">
                        <div class="col-span-5 p-4 border-r border-navy flex flex-col justify-center">
                            <span class="ledger-title font-bold text-sm text-navy/60">EK21A · Litteraturanalys</span>
                            <span class="text-xs text-navy/30 font-mono mt-1">24 texter</span>
                        </div>
                        <div class="col-span-2 p-4 border-r border-navy flex items-center">
                            <span class="font-mono text-xs uppercase tracking-wide text-navy/30">Arkiverad</span>
                        </div>
                        <div class="col-span-4 p-4 border-r border-navy flex items-center">
                            <span class="text-xs text-navy/30">—</span>
                        </div>
                        <div class="col-span-1 p-4 flex items-center justify-end">
                            <span class="font-mono text-xs text-navy/30">3 dec</span>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Demo: State Change Animation -->
            <div class="p-10 pt-4 max-w-6xl">
                <div class="flex items-center gap-3 mb-4 pl-1">
                    <h2 class="text-xs font-bold uppercase tracking-widest text-navy/40">Demo: Klicka för att simulera state-ändring</h2>
                </div>
                
                <button onclick="simulateStateChange()" class="border border-navy text-navy px-4 py-2 text-xs font-bold uppercase tracking-widest hover:bg-navy hover:text-white transition-colors">
                    Simulera websocket-uppdatering
                </button>
            </div>

        </main>
    </div>

    <script>
        function simulateStateChange() {
            const rows = document.querySelectorAll('.ledger-row[data-state="processing"]');
            rows.forEach(row => {
                row.setAttribute('data-state-changed', '');
                row.addEventListener('animationend', () => {
                    row.removeAttribute('data-state-changed');
                }, { once: true });
            });
        }
    </script>

</body>
</html>